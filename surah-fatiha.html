<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>আল-কোরআন স্মার্ট রিসার্চ আর্কাইভ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --primary: #1a5e3a; --bg: #f4f7f6; }
        body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; background: var(--bg); padding-bottom: 100px; }

        /* স্মার্ট সার্চ */
        .search-area { text-align: center; padding: 15px; }
        .search-trigger-btn { background: white; border: 2px solid var(--primary); color: var(--primary); padding: 10px 25px; border-radius: 30px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        #search-panel { display: none; background: white; padding: 20px; margin: 10px auto; max-width: 400px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); border: 1px solid #ddd; }
        .search-input { width: 90%; padding: 12px; margin: 10px 0; border: 1px solid #ccc; border-radius: 10px; text-align: center; }

        /* মেইন কার্ড */
        .card { background: white; border-radius: 25px; padding: 25px; margin: 10px auto; max-width: 450px; box-shadow: 0 10px 40px rgba(0,0,0,0.06); }
        
        .nav-controls { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .nav-btn { background: var(--primary); color: white; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .verse-title { font-weight: bold; color: var(--primary); font-size: 18px; }

        /* টেক্সট ডিসপ্লে */
        .arabic-display { font-size: 34px; text-align: center; direction: rtl; line-height: 2.2; color: #2c3e50; font-weight: bold; }
        .proun-display { font-size: 22px; color: #e53935; font-weight: bold; text-align: center; margin-bottom: 20px; border-bottom: 2px dashed #ddd; padding-bottom: 15px; }
        .translation-text { font-size: 21px; font-weight: bold; color: #1a1a1a; text-align: center; line-height: 1.6; border-top: 1px solid #eee; padding-top: 15px; }

        /* টাচ এফেক্ট */
        .touchable { cursor: pointer; transition: 0.2s; padding: 0 2px; }
        .touchable:hover { background: #e8f5e9; color: var(--primary); border-radius: 4px; }
        .bn-touch { border-bottom: 2px solid #b2dfdb; cursor: pointer; }

        /* বাটন গ্রিড */
        .btn-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin: 25px 0; }
        .r-btn { padding: 15px 10px; border: none; border-radius: 15px; color: white; font-weight: bold; font-size: 12px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 5px; }
        .btn-alem { background: #2e7d32; } .btn-sufi { background: #f9a825; }
        .btn-math { background: #8e24aa; } .btn-dict { background: #c62828; }
        .btn-hadith { background: #0277bd; } .btn-faith { background: #5d4037; }
        .btn-qepa { background: #004d40; border: 2px solid #ffeb3b; }
        .btn-opinion { background: #00897b; grid-column: span 2; flex-direction: row; justify-content: center; }

        /* পপ-আপ */
        #popup-box { position: fixed; bottom: 0; left: 0; right: 0; background: white; border-top: 8px solid var(--primary); padding: 30px; display: none; z-index: 9999; border-radius: 30px 30px 0 0; box-shadow: 0 -15px 40px rgba(0,0,0,0.2); }
        .close-btn { float: right; background: #ff5252; color: white; border: none; padding: 8px 15px; border-radius: 10px; cursor: pointer; }
    </style>
</head>
<body>

<div class="search-area">
    <button class="search-trigger-btn" onclick="toggleSearch()"><i class="fas fa-search"></i> আয়াত ও সূরা সার্চ</button>
</div>

<div id="search-panel">
    <input type="text" id="vNum" class="search-input" placeholder="আয়াত নম্বর (উদা: 1:1)">
    <button class="search-trigger-btn" style="width:100%; background: var(--primary); color:white;" onclick="runSearch()">সার্চ করুন</button>
</div>

<div class="card">
    <div class="nav-controls">
        <button class="nav-btn" onclick="prev()"><i class="fas fa-arrow-left"></i></button>
        <div class="verse-title" id="vTitle"></div>
        <button class="nav-btn" onclick="next()"><i class="fas fa-arrow-right"></i></button>
    </div>
    
    <div class="arabic-display" id="aDisp"></div>
    <div class="proun-display" id="pDisp"></div>

    <div class="btn-grid">
        <button class="r-btn btn-alem" onclick="showPop('তাফসীর', 'বিশ্বনবী (ﷺ) বলেছেন: এটি কোরআনের শ্রেষ্ঠ সূরা। আলেমদের মতে এটি রোগের প্রতিষেধক।')"><i class="fas fa-book-open"></i>আলেমদের তাফসীর</button>
        <button class="r-btn btn-sufi" onclick="showPop('সুফি ব্যাখ্যা', 'রূহানি জগতে এই আয়াতের প্রভাব অপরিসীম...')"><i class="fas fa-vihara"></i>সুফি ও আধ্যাত্মিক</button>
        <button class="r-btn btn-math" onclick="showMath()"><i class="fas fa-calculator"></i>গাণিতিক গণনা</button>
        <button class="r-btn btn-dict" onclick="showPop('ডিকশনারি', 'আরবি ব্যাকরণ ও শব্দের মূল অর্থ এখানে পাওয়া যাবে।')"><i class="fas fa-language"></i>ডিকশনারি</button>
        <button class="r-btn btn-hadith" onclick="showPop('হাদিস', 'বিশ্বনবী (ﷺ) এর জীবন ও বাণী থেকে প্রাসঙ্গিক তথ্য...')"><i class="fas fa-scroll"></i>হাদিস সমূহ</button>
        <button class="r-btn btn-faith" onclick="showPop('অন্যান্য ধর্ম', 'তুলনামূলক ধর্মতত্ত্ব বিশ্লেষণ...')"><i class="fas fa-synagogue"></i>অন্যান্য ধর্মগ্রন্থ</button>
        <button class="r-btn btn-qepa" onclick="showPop('QEPA রিসার্চ', 'সংখ্যাতত্ত্ব ও ইভেন্ট প্যাটার্ন...')"><i class="fas fa-atom"></i>QEPA রিসার্চ টুলস</button>
        <button class="r-btn btn-opinion" onclick="showOpinion()"><i class="fas fa-comment-dots"></i> মতামত ও কমান্ড</button>
    </div>

    <div class="translation-text" id="tDisp"></div>
</div>

<div id="popup-box">
    <button class="close-btn" onclick="closePop()">বন্ধ</button>
    <h3 id="popTitle" style="color: var(--primary);"></h3>
    <div id="popContent" style="font-size: 17px; line-height: 1.6;"></div>
</div>

<script>
    const ayatData = {
        "1:1": {
            title: "সূরা ফাতিহা: ১",
            arabic: `<span class="touchable" onclick="dict('بِسْمِ', 'নামে')">بِسْمِ</span> <span class="touchable" onclick="dict('ٱللَّهِ', 'আল্লাহর')">ٱللَّهِ</span> <span class="touchable" onclick="dict('ٱلرَّহْمَٰنِ', 'করুণাময়')">ٱلرَّহْمَٰنِ</span> <span class="touchable" onclick="dict('ٱلرَّحِيمِ', 'দয়ালু')">ٱلرَّহِيمِ</span>`,
            proun: `<span class="touchable" onclick="dict('বিসমিল্লাহ', 'আল্লাহর নামে শুরু')">বিসমিল্লাহির</span> <span class="touchable" onclick="dict('রহমান', 'পরম করুণাময়')">রহমানির</span> <span class="touchable" onclick="dict('রহীম', 'অসীম দয়ালু')">রহীম</span>`,
            trans: `<span class="bn-touch" onclick="showPop('নামে', 'বিশ্বনবী (ﷺ) প্রতিটি কাজ আল্লাহর নামে শুরু করতে বলেছেন।')">আল্লাহর নামে</span> শুরু করছি যিনি <span class="bn-touch" onclick="showPop('করুণাময়', 'আল্লাহর অসীম দয়া যা সবার জন্য।')">পরম করুণাময়</span> ও <span class="bn-touch" onclick="showPop('দয়ালু', 'বিশেষ দয়া যা পরকালে মুমিনরা পাবে।')">অসীম দয়ালু</span>।`,
            words: 4
        },
        "1:2": {
            title: "সূরা ফাতিহা: ২",
            arabic: `<span class="touchable" onclick="dict('ٱلْحَمْدُ', 'প্রশংসা')">ٱلْحَمْدُ</span> <span class="touchable" onclick="dict('لِلَّهِ', 'আল্লাহর')">لِلَّهِ</span>`,
            proun: `<span>আলহামদুলিল্লাহি</span> <span>রব্বিল আলামীন</span>`,
            trans: `<span class="bn-touch" onclick="showPop('প্রশংসা', 'বিশ্বনবী (ﷺ) বলেছেন: আলহামদুলিল্লাহ বললে মিজানের পাল্লা ভরে যায়।')">সকল প্রশংসা</span> আল্লাহর জন্য।`,
            words: 4
        }
    };

    let curS = 1, curV = 1;

    function render() {
        const d = ayatData[`${curS}:${curV}`];
        if(!d) return;
        document.getElementById('vTitle').innerText = d.title;
        document.getElementById('aDisp').innerHTML = d.arabic;
        document.getElementById('pDisp').innerHTML = d.proun;
        document.getElementById('tDisp').innerHTML = d.trans;
    }

    function toggleSearch() { const p = document.getElementById('search-panel'); p.style.display = p.style.display === 'block' ? 'none' : 'block'; }
    function runSearch() { const v = document.getElementById('vNum').value; if(ayatData[v]) { const p = v.split(':'); curS = p[0]; curV = p[1]; render(); toggleSearch(); } else { alert("পাওয়া যায়নি!"); } }
    function next() { if(ayatData[`${curS}:${parseInt(curV)+1}`]) { curV++; render(); } }
    function prev() { if(curV > 1) { curV--; render(); } }

    function dict(w, m) { showPop("শব্দ বিশ্লেষণ", `<b>মূল শব্দ:</b> ${w}<br><b>বাংলা অর্থ:</b> ${m}<br><br><small>বিশ্বনবী (ﷺ) এর সুন্নাহ অনুযায়ী এই শব্দের গভীর তাৎপর্য রয়েছে।</small>`); }
    function showMath() { showPop("গাণিতিক গণনা", "এই আয়াতে শব্দ সংখ্যা: " + ayatData[`${curS}:${curV}`].words); }
    function showOpinion() { showPop("মতামত", `<textarea style="width:100%; border-radius:10px; padding:10px;" rows="4"></textarea><br><button class="nav-btn" style="width:100%; margin-top:10px;">সাবমিট</button>`); }

    function showPop(t, c) { document.getElementById('popup-box').style.display = 'block'; document.getElementById('popTitle').innerText = t; document.getElementById('popContent').innerHTML = c; }
    function closePop() { document.getElementById('popup-box').style.display = 'none'; }

    render();
</script>
</body>
    </html>
